import{$ as ie,A as te,Ab as fe,Bb as ge,C,Cb as he,Db as G,Eb as _e,F as u,G as f,Ha as a,Ia as _,Ja as v,Ka as oe,La as D,Ma as V,Na as L,Pa as W,Qa as N,T as s,X as b,_ as T,bb as E,ca as g,cb as F,e as J,eb as ne,fb as re,g as S,gb as A,h as X,jb as k,ka as d,la as r,lb as ae,ma as o,mb as le,na as h,nb as se,o as w,ob as ce,p as Z,qb as j,ra as x,sb as de,ta as p,tb as R,ua as m,vb as me,w as ee,wb as M,xb as pe,yb as $,z as I,zb as ue}from"./chunk-LZIDAHLV.js";var P=class i{constructor(t){this.router=t}logout(){localStorage.removeItem("authToken"),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||i)(b(le))};static \u0275cmp=T({type:i,selectors:[["app-layout"]],decls:21,vars:0,consts:[[1,"d-flex"],[1,"d-flex","flex-column","flex-shrink-0","p-3","text-white","bg-dark",2,"width","250px","height","100vh"],["href","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-4","fw-bold"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","todo","routerLinkActive","active",1,"nav-link","text-white","rounded"],["routerLink","weather","routerLinkActive","active",1,"nav-link","text-white","rounded"],["routerLink","map-routing","routerLinkActive","active",1,"nav-link","text-white","rounded"],[1,"btn","btn-danger","w-100","mt-auto",3,"click"],[1,"flex-grow-1","p-4","overflow-auto",2,"height","100vh"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),a(4,"Simbiotik Tests"),o()(),h(5,"hr"),r(6,"ul",4)(7,"li",5)(8,"a",6),a(9," TODO CRUD "),o()(),r(10,"li",5)(11,"a",7),a(12," Weather Test "),o()(),r(13,"li",5)(14,"a",8),a(15," Map Routing "),o()()(),h(16,"hr"),r(17,"button",9),p("click",function(){return n.logout()}),a(18," Logout "),o()(),r(19,"main",10),h(20,"router-outlet"),o()())},dependencies:[j,ae,se,ce],encapsulation:2})};var U=class i{constructor(t){this.http=t}baseUrl="/api/todos";getTodos(){return this.http.get(this.baseUrl)}getTodoById(t){return this.http.get(`${this.baseUrl}/${t}`)}createTodo(t){return this.http.post(this.baseUrl,t)}updateTodo(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deleteTodo(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(C(k))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ce(i,t){i&1&&(r(0,"div",8),a(1,"Loading TODOs..."),o())}function Ee(i,t){if(i&1&&(r(0,"div",9),a(1),o()),i&2){let e=m();s(),_(e.error)}}function Fe(i,t){if(i&1){let e=x();r(0,"tr")(1,"td",14),p("click",function(){let l=u(e).$implicit,c=m(2);return f(c.viewTodo(l))}),a(2),o(),r(3,"td",12)(4,"input",15),p("change",function(){let l=u(e).$implicit,c=m(2);return f(c.toggleComplete(l))}),o()(),r(5,"td")(6,"button",16),p("click",function(){let l=u(e).$implicit,c=m(2);return f(c.editTodo(l))}),a(7,"Edit"),o(),r(8,"button",17),p("click",function(){let l=u(e).$implicit,c=m(2);return f(c.deleteTodo(l.id))}),a(9,"Delete"),o()()()}if(i&2){let e=t.$implicit;s(2),_(e.title),s(2),d("checked",e.completed)}}function ke(i,t){if(i&1&&(r(0,"table",10)(1,"thead",11)(2,"tr")(3,"th"),a(4,"Title"),o(),r(5,"th",12),a(6,"Completed"),o(),r(7,"th"),a(8,"Actions"),o()()(),r(9,"tbody"),g(10,Fe,10,2,"tr",13),o()()),i&2){let e=m();s(10),d("ngForOf",e.todos)}}function Re(i,t){i&1&&(r(0,"p",18),a(1,"No TODOs found. Add one!"),o())}function Me(i,t){i&1&&(r(0,"div",38),a(1," Title is required "),o())}function Oe(i,t){if(i&1){let e=x();r(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),a(5),o(),r(6,"button",24),p("click",function(){u(e);let l=m();return f(l.closeForm())}),o()(),r(7,"div",25)(8,"form",26),p("ngSubmit",function(){u(e);let l=m();return f(l.submitForm())}),r(9,"div",27)(10,"label",28),a(11,"Title"),o(),h(12,"input",29),g(13,Me,2,0,"div",30),o(),r(14,"div",27)(15,"label",28),a(16,"Description"),o(),h(17,"textarea",31),o(),r(18,"div",32),h(19,"input",33),r(20,"label",34),a(21,"Completed"),o()(),r(22,"div",35)(23,"button",36),p("click",function(){u(e);let l=m();return f(l.closeForm())}),a(24,"Cancel"),o(),r(25,"button",37),a(26),o()()()()()()()}if(i&2){let e,n=m();s(5),_(n.editingTodo?"Edit TODO":"Add TODO"),s(3),d("formGroup",n.todoForm),s(5),d("ngIf",((e=n.todoForm.get("title"))==null?null:e.invalid)&&((e=n.todoForm.get("title"))==null?null:e.touched)),s(12),d("disabled",n.todoForm.invalid),s(),v(" ",n.editingTodo?"Update":"Create"," ")}}function De(i,t){if(i&1){let e=x();r(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),a(5,"TODO Details"),o(),r(6,"button",24),p("click",function(){u(e);let l=m();return f(l.closeView())}),o()(),r(7,"div",25)(8,"p")(9,"strong"),a(10,"Title:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Description:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"Completed:"),o(),a(19),o()(),r(20,"div",39)(21,"button",40),p("click",function(){u(e);let l=m();return f(l.closeView())}),a(22,"Close"),o()()()()()}if(i&2){let e=m();s(11),v(" ",e.viewingTodo.title),s(4),v(" ",e.viewingTodo.description),s(4),v(" ",e.viewingTodo.completed?"Yes":"No")}}var Q=class i{constructor(t,e){this.todoService=t;this.fb=e}todos=[];todoForm;showForm=!1;editingTodo=null;viewingTodo=null;loading=!1;error=null;ngOnInit(){this.loadTodos(),this.todoForm=this.fb.group({title:["",me.required],description:[""],completed:[!1]})}loadTodos(){this.loading=!0,this.todoService.getTodos().subscribe({next:t=>{this.todos=t,this.loading=!1},error:()=>{this.error="Failed to load TODOs",this.loading=!1}})}openForm(){this.editingTodo=null,this.todoForm.reset({title:"",description:"",completed:!1}),this.showForm=!0}closeForm(){this.showForm=!1}submitForm(){if(this.todoForm.invalid)return;let t=this.todoForm.value;this.editingTodo?this.todoService.updateTodo(this.editingTodo.id,t).subscribe({next:e=>{let n=this.todos.findIndex(l=>l.id===e.id);n>-1&&(this.todos[n]=e),this.showForm=!1},error:()=>this.error="Update failed"}):this.todoService.createTodo(t).subscribe({next:e=>{this.todos.push(e),this.showForm=!1},error:()=>this.error="Create failed"})}editTodo(t){this.editingTodo=t,this.todoForm.patchValue(t),this.showForm=!0}deleteTodo(t){confirm("Are you sure to delete this TODO?")&&this.todoService.deleteTodo(t).subscribe({next:()=>this.todos=this.todos.filter(e=>e.id!==t),error:()=>this.error="Delete failed"})}viewTodo(t){this.viewingTodo=t}closeView(){this.viewingTodo=null}toggleComplete(t){this.todoService.updateTodo(t.id,{completed:!t.completed}).subscribe({next:e=>{let n=this.todos.findIndex(l=>l.id===e.id);n>-1&&(this.todos[n]=e)},error:()=>this.error="Failed to update status"})}static \u0275fac=function(e){return new(e||i)(b(U),b(he))};static \u0275cmp=T({type:i,selectors:[["app-todo"]],decls:11,vars:6,consts:[[1,"container","my-4",2,"max-width","700px"],[1,"h4","mb-3"],[1,"btn","btn-success","mb-3",3,"click"],["class","text-primary mb-3",4,"ngIf"],["class","text-danger mb-3",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","modal fade show d-block","style","background-color: rgba(0,0,0,0.5);",4,"ngIf"],[1,"text-primary","mb-3"],[1,"text-danger","mb-3"],[1,"table","table-bordered","table-hover"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click"],["type","checkbox",3,"change","checked"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-muted"],[1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","title",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["formControlName","description",1,"form-control"],[1,"form-check","mb-3"],["type","checkbox","formControlName","completed","id","completedCheck",1,"form-check-input"],["for","completedCheck",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger","small","mt-1"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"TODO List"),o(),r(3,"button",2),p("click",function(){return n.openForm()}),a(4," Add TODO "),o(),g(5,Ce,2,0,"div",3)(6,Ee,2,1,"div",4)(7,ke,11,1,"table",5)(8,Re,2,0,"p",6)(9,Oe,27,5,"div",7)(10,De,23,3,"div",7),o()),e&2&&(s(5),d("ngIf",n.loading),s(),d("ngIf",n.error),s(),d("ngIf",!n.loading&&n.todos.length>0),s(),d("ngIf",!n.loading&&n.todos.length===0),s(),d("ngIf",n.showForm),s(),d("ngIf",n.viewingTodo))},dependencies:[A,E,F,_e,ue,R,de,M,pe,fe,ge],encapsulation:2})};var xe="YOUR_OPENWEATHERMAP_API_KEY",B=class i{constructor(t){this.http=t}getCurrentWeather(t){let e=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(t)}&units=metric&appid=${xe}`;return this.http.get(e)}getForecast(t){let e=`https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(t)}&units=metric&appid=${xe}`;return this.http.get(e)}static \u0275fac=function(e){return new(e||i)(C(k))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function Le(i,t){i&1&&(r(0,"div",6),h(1,"div",7),o())}function We(i,t){if(i&1){let e=x();r(0,"div",8)(1,"span"),a(2),o(),r(3,"button",9),p("click",function(){u(e);let l=m();return f(l.retry())}),a(4,"\u27F3 Retry"),o()()}if(i&2){let e=m();s(2),_(e.error)}}function Ne(i,t){if(i&1&&(r(0,"li",14),a(1),W(2,"date"),o()),i&2){let e=t.$implicit;s(),oe(" ",N(2,2,e.date,"EEE, MMM d")," \u2014 ",e.avgTemp," \xB0C ")}}function je(i,t){if(i&1&&(r(0,"div",10)(1,"p")(2,"strong"),a(3,"Current Temp:"),o(),a(4),o(),r(5,"h5",11),a(6,"7\u2011Day Forecast (Avg Temp)"),o(),r(7,"ul",12),g(8,Ne,3,5,"li",13),o()()),i&2){let e=m();s(4),v(" ",e.currentWeather.main.temp," \xB0C"),s(4),d("ngForOf",e.forecastDays)}}var H=class i{constructor(t){this.weatherService=t}city="Bengaluru";currentWeather=null;forecastDays=[];loading=!1;error=null;citySubject=new J;ngOnInit(){this.citySubject.pipe(Z(500),ee(t=>(this.loading=!0,this.error=null,this.weatherService.getCurrentWeather(t).pipe(w(e=>(console.error("Current weather error:",e),this.error="Failed to fetch current weather",this.loading=!1,S(null))))))).subscribe(t=>{if(!t){this.currentWeather=null,this.forecastDays=[];return}this.currentWeather=t,this.loadForecast(this.city)}),this.citySubject.next(this.city)}onCityChange(t){this.city=t,this.citySubject.next(t)}loadForecast(t){this.weatherService.getForecast(t).pipe(w(e=>(console.error("Forecast error:",e),this.error="Failed to fetch forecast",this.loading=!1,S(null)))).subscribe(e=>{if(!e||!e.list){this.forecastDays=[],this.loading=!1;return}let n=new Map;e.list.forEach(l=>{let c=l.dt,O=new Date(c*1e3).toISOString().split("T")[0];n.has(O)||n.set(O,[]),n.get(O).push(l.main.temp)}),this.forecastDays=[],Array.from(n.entries()).slice(0,7).forEach(([l,c])=>{let z=c.reduce((O,Se)=>O+Se,0)/c.length;this.forecastDays.push({date:new Date(l),avgTemp:+z.toFixed(1)})}),this.loading=!1})}retry(){this.error=null,this.citySubject.next(this.city)}static \u0275fac=function(e){return new(e||i)(b(B))};static \u0275cmp=T({type:i,selectors:[["app-weather"]],decls:7,vars:4,consts:[[1,"container","my-4",2,"max-width","600px"],[1,"h4","mb-3"],["type","text","placeholder","Search city",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["class","progress mb-3",4,"ngIf"],["class","alert alert-warning d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","card p-3",4,"ngIf"],[1,"progress","mb-3"],[1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],[1,"alert","alert-warning","d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-sm","btn-outline-dark",3,"click"],[1,"card","p-3"],[1,"mt-3"],[1,"list-group","list-group-flush","mt-2"],["class","list-group-item px-0",4,"ngFor","ngForOf"],[1,"list-group-item","px-0"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Weather Application"),o(),r(3,"input",2),L("ngModelChange",function(c){return V(n.city,c)||(n.city=c),c}),p("ngModelChange",function(c){return n.onCityChange(c)}),o(),g(4,Le,2,0,"div",3)(5,We,5,1,"div",4)(6,je,9,2,"div",5),o()),e&2&&(s(3),D("ngModel",n.city),s(),d("ngIf",n.loading),s(),d("ngIf",n.error),s(),d("ngIf",n.currentWeather&&!n.loading))},dependencies:[F,E,G,R,M,$,ne],encapsulation:2})};var q=class i{constructor(t){this.http=t}searchLocation(t){let e=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`;return this.http.get(e).pipe(w(()=>S([])))}getRoute(t,e){let n=`https://router.project-osrm.org/route/v1/driving/${t.lon},${t.lat};${e.lon},${e.lat}?overview=false`;return this.http.get(n).pipe(X(l=>{if(!l.routes?.length)return null;let c=l.routes[0];return{distance:c.distance,duration:c.duration}}),w(()=>S(null)))}static \u0275fac=function(e){return new(e||i)(C(k))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function $e(i,t){if(i&1){let e=x();r(0,"li",13),p("click",function(){let l=u(e).$implicit,c=m(2);return f(c.selectFrom(l))}),r(1,"span",14),a(2),o()()}if(i&2){let e=t.$implicit;s(2),_(e.display_name)}}function Ge(i,t){if(i&1&&(r(0,"div",10)(1,"ul",11),g(2,$e,3,1,"li",12),o()()),i&2){let e=m();s(2),d("ngForOf",e.fromSuggestions)}}function Pe(i,t){if(i&1){let e=x();r(0,"li",13),p("click",function(){let l=u(e).$implicit,c=m(2);return f(c.selectTo(l))}),r(1,"span",14),a(2),o()()}if(i&2){let e=t.$implicit;s(2),_(e.display_name)}}function Ue(i,t){if(i&1&&(r(0,"div",10)(1,"ul",11),g(2,Pe,3,1,"li",12),o()()),i&2){let e=m();s(2),d("ngForOf",e.toSuggestions)}}function Qe(i,t){i&1&&(r(0,"div",15)(1,"span",16),a(2," Route calculated "),o()())}function Be(i,t){if(i&1&&(r(0,"div",17)(1,"p",18)(2,"strong"),a(3,"Distance:"),o(),a(4),W(5,"number"),o(),r(6,"p",19)(7,"strong"),a(8,"Time:"),o(),a(9),W(10,"number"),o()()),i&2){let e=m();s(4),v(" ",N(5,2,e.routeResult.distance/1e3,"1.1-1")," km"),s(5),v(" ",N(10,5,e.routeResult.duration/60,"1.0-0")," min")}}function He(i,t){if(i&1&&(r(0,"div",20),a(1),o()),i&2){let e=m();s(),_(e.error)}}var Y=class i{constructor(t){this.mapService=t}fromQuery="";toQuery="";fromSuggestions=[];toSuggestions=[];selectedFrom;selectedTo;routeResult=null;error=null;onFromInput(){if(this.fromQuery.length<3){this.fromSuggestions=[];return}this.mapService.searchLocation(this.fromQuery).subscribe(t=>{this.fromSuggestions=t})}onToInput(){if(this.toQuery.length<3){this.toSuggestions=[];return}this.mapService.searchLocation(this.toQuery).subscribe(t=>{this.toSuggestions=t})}selectFrom(t){this.selectedFrom=t,this.fromQuery=t.display_name,this.fromSuggestions=[],this.tryRoute()}selectTo(t){this.selectedTo=t,this.toQuery=t.display_name,this.toSuggestions=[],this.tryRoute()}tryRoute(){this.routeResult=null,this.error=null,this.selectedFrom&&this.selectedTo&&this.mapService.getRoute(this.selectedFrom,this.selectedTo).subscribe(t=>{if(!t){this.error="No route found";return}this.routeResult=t})}static \u0275fac=function(e){return new(e||i)(b(q))};static \u0275cmp=T({type:i,selectors:[["app-map-routing"]],decls:14,vars:7,consts:[[1,"container","my-4"],[1,"h4","fw-bold","mb-4"],[1,"row","g-3","mb-3"],[1,"col"],["type","text","placeholder","From",1,"form-control",3,"ngModelChange","input","ngModel"],["type","text","placeholder","To",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col border rounded bg-white p-2","style","max-height: 200px; overflow:auto;",4,"ngIf"],["class","border d-flex align-items-center justify-content-center bg-light","style","height: 300px;",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"col","border","rounded","bg-white","p-2",2,"max-height","200px","overflow","auto"],[1,"list-unstyled","mb-0"],["class","p-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-1","cursor-pointer",3,"click"],[1,"d-block","hover-bg-light"],[1,"border","d-flex","align-items-center","justify-content-center","bg-light",2,"height","300px"],[1,"text-success","fw-semibold"],[1,"alert","alert-success","mt-3"],[1,"mb-1"],[1,"mb-0"],[1,"alert","alert-danger","mt-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Map Routing"),o(),r(3,"div",2)(4,"div",3)(5,"input",4),L("ngModelChange",function(c){return V(n.fromQuery,c)||(n.fromQuery=c),c}),p("input",function(){return n.onFromInput()}),o()(),r(6,"div",3)(7,"input",5),L("ngModelChange",function(c){return V(n.toQuery,c)||(n.toQuery=c),c}),p("input",function(){return n.onToInput()}),o()()(),r(8,"div",2),g(9,Ge,3,1,"div",6)(10,Ue,3,1,"div",6),o(),g(11,Qe,3,0,"div",7)(12,Be,11,8,"div",8)(13,He,2,1,"div",9),o()),e&2&&(s(5),D("ngModel",n.fromQuery),s(2),D("ngModel",n.toQuery),s(2),d("ngIf",n.fromSuggestions.length),s(),d("ngIf",n.toSuggestions.length),s(),d("ngIf",n.routeResult),s(),d("ngIf",n.routeResult),s(),d("ngIf",n.error))},dependencies:[A,E,F,G,R,M,$,re],encapsulation:2})};var Te=[{path:"",component:P,children:[{path:"",redirectTo:"todo",pathMatch:"full"},{path:"todo",component:Q},{path:"weather",component:H},{path:"map-routing",component:Y}]}];var ye=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=ie({type:i});static \u0275inj=te({imports:[j.forChild(Te),j]})};export{ye as PracticeTestsModule};
