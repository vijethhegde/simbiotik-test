<div class="container my-4">
  <h2 class="h4 fw-bold mb-4">Map Routing</h2>

  <div class="row g-3 mb-3">
    <div class="col">
      <input
        type="text"
        placeholder="From"
        [(ngModel)]="fromQuery"
        (input)="onFromInput()"
        class="form-control"
      />
    </div>
    <div class="col">
      <input
        type="text"
        placeholder="To"
        [(ngModel)]="toQuery"
        (input)="onToInput()"
        class="form-control"
      />
    </div>
  </div>

  <div class="row g-3 mb-3">
    <div *ngIf="fromSuggestions.length" class="col border rounded bg-white p-2" style="max-height: 200px; overflow:auto;">
      <ul class="list-unstyled mb-0">
        <li *ngFor="let item of fromSuggestions"
            (click)="selectFrom(item)"
            class="p-1 cursor-pointer">
          <span class="d-block hover-bg-light">{{ item.display_name }}</span>
        </li>
      </ul>
    </div>

    <div *ngIf="toSuggestions.length" class="col border rounded bg-white p-2" style="max-height: 200px; overflow:auto;">
      <ul class="list-unstyled mb-0">
        <li *ngFor="let item of toSuggestions"
            (click)="selectTo(item)"
            class="p-1 cursor-pointer">
          <span class="d-block hover-bg-light">{{ item.display_name }}</span>
        </li>
      </ul>
    </div>
  </div>

  <div *ngIf="routeResult" class="border d-flex align-items-center justify-content-center bg-light" style="height: 300px;">
    <span  class="text-success fw-semibold">
      Route calculated
    </span>
  </div>

  <div *ngIf="routeResult" class="alert alert-success mt-3">
    <p class="mb-1"><strong>Distance:</strong> {{ (routeResult.distance / 1000) | number:'1.1-1' }} km</p>
    <p class="mb-0"><strong>Time:</strong> {{ (routeResult.duration / 60) | number:'1.0-0' }} min</p>
  </div>

  <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
</div>
